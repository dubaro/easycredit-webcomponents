import { Meta } from "@storybook/blocks";

<Meta title="Getting Started/Consent-Management" />

<h1>Integration der easyCredit-Ratenkauf Web Components mit einem Consent-Management Tool</h1>

Sollen die Web Components vorbehaltlich der Zustimmung des Kunden eingefügt werden, muss darauf geachtet werden, dass die Komponenten als ESM-Modul eingebunden werden. Dabei muss darauf geachtet werden, dass bestimmte Komponenten im Checkout verwendet werden. Stimmt der Nutzer nicht zu, werden auch diese Komponenten nicht angezeigt.

<h2>Beispiel Usercentrics</h2>

In diesem Fall behelfen wir uns mit einem normalen Skript-Tag der konditional ausgeführt wird, und wiederum das ESM-Modul einfügt:

```html
<script type="text/plain" data-usercentrics="EasyCredit Ratenkauf Web Components">
  var scriptTag = document.createElement("script");
  scriptTag.src = "https://ratenkauf.easycredit.de/api/resource/webcomponents/v3/easycredit-components/easycredit-components.esm.js";
  scriptTag.type = "module";

  // Append the new script tag to the document's head or body
  document.head.appendChild(scriptTag);
</script>
```

Weitere Informationen zur konditionalen Einbindung mit Usercentrics sind hier zu finden:
https://usercentrics.atlassian.net/wiki/spaces/SKB/pages/699465736/Direct+Implementation#Change-script-type-%E2%80%93-%E2%80%9Ctext-%2F-javascript%E2%80%9D-to-%E2%80%9Ctext-%2F-plain%E2%80%9D
